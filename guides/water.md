---
layout: default
title: Water
parent: Guides
nav_order: 4
---

# Intro to Water
_The Importance of Water_

Many of the chemicals/compounds found in standard city water, or even bottled water, can form scale when repeatedly heated and cooled inside your espresso machine. This can sometimes clog components, or negatively alter the flow of water in your shiny, spiffy coffee machine. To combat this, the solution is to use soft water. However, water with absolutely no mineral content has been found to negatively affect coffee extraction. Additionally, distilled water can also have a mildly corrosive affect on metal components. So, time to strike some sort of a balance. Time to explore... 



_...The Simple Water Recipe_

A longtime Espresso enthusiast, Dr. Pavlis, simplified the recipe as follows: 50-100mg/L of Potassium or Sodium Bicarbonate. A simple way to utilize this ratio is as follows:

<ins>Ingredients</ins>

4L Distilled or Deionized water

0.35g Potassium Bicarbonate

<ins>Method</ins>
1. Put the Potassium Bicarbonate into the water
2. Agitate 
3. Let rest for 5-10 mins (This ensures sufficient time for the Potassium Bicarbonate to properly dissolve into the water)

That's it. Really.



_The Why_

The premise here is that the water acts simply as a carrier for the compounds you are trying to extract from your beans. We start with distilled or de-ionized water as a base because these have little to no TDS (a measure of the amount of dissolved particles of other substances are in the water). In order to neutralize the corrosive effect this will have on your machine, and to improve the extraction of desirable coffee compounds, Dr. Pavlis settled on the use of Potassium (or Sodium) Bicarbonate. In this application the bicarbonate acts as a "buffer", bringing the pH of the distilled water closer to 7 (neutral pH) while also raising TDS a little bit.



_The "But my scale won't measure that accurately"_

A shortcoming of the recipe provided above is the difficulty of consistently measuring 0.35g of the buffer. So, yet more perfection and simplification seeking enthusiasts reached the conclusion that a concentrate of buffer can be used to simplify the measurements needed. 

To make a concentrate, mix 25g of Potassium Bicarbonate into 500ml of distilled water. 

To use the concentrate, mix 2ml of concentrate into a litre of water. If you have 4L of water, mix in 8ml of concentrate. It's still just that simple.



_The More_

Some espresso enthusiasts have found the "Pavlis Water" recipe is lacking a component. The thought here is that calcium or magnesium (commonly considered "hardness" minerals), in carefully controlled doses, allow a better extraction. I will stop short of making any qualitative judgement between this approach and the one outlined above.
Since there are myriad ways to introduce hardness chemicals into your water, we'll continue to add water resources here on the wiki.




# Water 2: A Practical Guide of Understanding Water for Dialing in Coffee

_TLDR:_

If RPalvis water mentioned in the beginning water entry has a somewhat weird taste, try these other recipes. My current favorite for espresso is the TWW Espresso Inspired.

Epsom Salt = MgSO<sub>4</sub>·7H<sub>2</sub>O<br>
Baking Soda = NaHCO<sub>3</sub><br>
Potassium Bicarbonate = KHCO<sub>3</sub>

Direct Dosing. Scale as needed. 10 L is used for easy measurements using 0.1 g accurate scales. For smaller measurement, jewelry scale that goes to 0.001 could be used.

Name | Volume | Epsom Salt (g) | Baking Soda (g) | Potassium Bicarbonate (g) | GH | KH
------------ | -------------|------------ | -------------| -------------| -------------| -------------
“Holy” Water|10 Liter| X | Y | Z | 0 | 0
" |1 Gallon| X | Y | Z | 0 | 0
Melbourne Water|10 Liter | X | Y | Z | 0 | 0
" |1 Gallon | X | Y | Z | 0 | 0
Barista Hustle Water #4|10 Liter | X | Y | Z | 0 | 0
"|1 Gallon | X | Y | Z | 0 | 0
TWW Espresso Inspired|10 Liter | X | Y | Z | 0 | 0
"|1 Gallon | X | Y | Z | 0 | 0
RPalvis|10 Liter | X | Y | Z | 0 | 0
"|1 Gallon | X | 0. | Z | 0 | 0


## Key Point:

Adjust hardness and alkalinity of coffee to match your tastes. It can be used as one of the final steps to dial in a certain taste for a specific machine and grinder combination. The most optimal water could change with coffee ratios. This page is a work in progress to try and gather some heuristics to build intuition on how water for coffee will work.


## The Idea

Coffee is primarily composed of water. Even having good beans and a good grinder, if poor water is used, it will result in a bad coffee. Water quality and minerals varies depending on the area that the user is living in. Some areas just naturally have the ideal soft water for coffee like San Francisco or Seattle. Others like Los Angeles will have water that will make coffee taste bland. One way to get around this is to craft your own water mixture. This page will guide through the idea of remineralizing Reverse Osmosis (RO) or Distilled Water. 

## The main components we will be looking at are:


Magnesium Sulfate (Epsom Salt) <br>
Potassium Bicarbonate <br>
Sodium Bicarbonate (Baking Soda) <br>

Chlorides and Calcium are also used in the remineralization of water to aid coffee extraction. They are absent from this page because this would give undesirable effects for espresso machines. I suppose there are more advanced ways of adding Chloride and Calcium such that they won’t scale, but that requires some additional math and equations that I have not yet explored. 

_Hardness:_
The concentration of Magnesium and Calcium combined will give the total hardness. More hardness will more easily extract coffee compounds from the coffee beans.

_Alkalinity:_
This will add more buffer. A higher alkalinity number will help reduce acidity.

There are online calculators and spreadsheet to calculate Alkalinity and Hardness. They are linearly independent. But for thoroughness, look at the end for an example to make 50 KH (alkalinity) and 100 GH (hardness). 

## Practical Example:

### Dialing in Kenya Nyeri AB Giakanja

Rao Allonge Parameters:
* 18:90, 1:5 ratio
* 92°C
* 6-9 bars of pressure.
* 4.5 ml/s flow rate


#### _Attempt #1_

Water #1: RPalvis Water
 
0 GH 50 KH
 
The shots made with RPalvis water felt very muted in acidity. It made me wonder if adding some hardness would help bring some more of the bean compounds out. It tasted a certain kind of emptiness. I decided to follow another common recipe that I knew for sure would not scale.


#### _Attempt #2_

Water #2: Barista Hustle #4

80 GH 40 KH

The addition of Mg to hardness caused a ton of acidity. It felt very sour. It tasted a lot like lemon juice. There were some good flavors, but I really felt the need to mute the acidity.

#### _Attempt #3_

Keeping water constant (80 GH 40 KH)
Temperature raised to 97°C

I was thinking that increasing the temperature higher could extract more compounds and may balance out the acidity. This did not work out well. Currently, at this point, I was thinking of heading towards RPalvis water, while reducing the hardness.

#### _Attempt #4_

Water #3: Custom Water
40 GH 50 KH
Back to 92°C.

The alkalinity was raised from 40 to 50. Hardness was halved from 80 to 40. The shot itself was still more acidic than I would like, but it was muted more than the previous water recipe. I am not sure if I can contribute this towards reducing the hardness or increasing the alkalinity. This is because I changed two variables at a time. But it was moving in the right direction. Another coffee aficionado mentioned 

#### _Attempt #5_

Water #4: TWW Espresso Blend Inspired Water
160 GH 67.5 KH

This is great. The acidity from the 2nd attempt shot with Barista Hustle #4 water are gone. It is a bit sour/acidic in the beginning, followed by a slight bitter after taste. I am currently stopping here for now in my dialing in process, but I may explore softer waters later.

## Other Water Examples


Some graphs to try and see where to dial in water for coffee

Graph from ad astra




Other notes:

If purchasing from coffee roasters that are not local, then the water that they use may not match yours. The tasting notes may be different. Using this water would then try to match the water that your coffee roasters use to get the experience that the coffee roasters got. 

Rao perger water is suggested, but the formula is not introduced here because it may cause some detrimental effect for the boiler. If it is a cheap bonavita gooseneck kettle, it may be ok. But not others. 

From: strivefortone
Recommendation of 2:1 H:A ratio. 2:1 ratio comes from SCA specs and was explored a lot by Chris and Maxwell in ‘Water for Coffee’. Truth be told, you can go a lot higher in hardness (3:1, even 4:1 for some coffees) but you’d never want to have an even ratio or less hardness to alkalinity - you only ever end up with flat, muted, very boring coffee


Direct Dosing vs Concentrates / Precision vs Accuracy

Do whatever works best for you. For myself, I use direct dosing. Don’t need to keep concentrates around.


Cheatsheets:


Additional Resources

Gagnes Article
Super long FAQ about water
Awasteofcoffee methods

Appendix

If my target was 50 alkalinity, I’d assume that’s 50 mg/L as CaCO3. 

First convert 50 mg/L as CaCO3 to mg/L as bicarbonate concentration

50 / 1.22 = 61 mg/L alkalinity as bicarbonate concentration.

61 is our target concentration

—

Let’s do Potassium Bicarbonate - KHCO3

Molar mass =  100.15 g/mol

That breaks down to Atomic mass of each element:

Potassium (K) 39.0983
Hydrogen (H)    1.00794
Carbon (C) 12.0107
Oxygen (O) 15.9994 (multiply by 3)

We don’t care about the potassium for now, we want bicarbonate elements, so it’s 1.00794 + 1.00794 + (15.9994*3) for HCO3 = 61.01684 

61.01684 is our Atomic Weight

Divide target concentration by HCO3 Atomic weight

61 / 61.01684 = 0.99972401

0.99972401

—

Now you need to convert this to g/L so divide by 1000

0.99972401 / 1000 = 0.00099972

0.00099972

—

Now you need to multiply this by the Molar Mass (since K is still physically in the solution) to get grams needed per litre of DI water to achieve target mg/L of 61

0.00099972 * 100.115 = 0.100087369322961

0.100087369322961

—

Now multiply this by 10 to get grams needed for 10L batch of water with 50 alkalinity as CaCO3 when using KHCO3.

0.100087369322961 * 10 = 1

1g

—

Multiply this by 0.378 for 1 gallon … 

1 * 0.378 = 0.38g for 1 gallon



So for completions sake - for a recipe with a Kh:Gh ratio of 1:2, with KhCO3 and MgSO4 - you have the calculation above for alkalinity, here’s how I would calculate hardness:

A 1:2 ratio would require 98.4ppm Mg as CaCO3

Convert to mg/L as the ion 

98.4 / 4.22 = 24 mg/L Mg as the ion

(Note you can do this either way - convert as the ion to CaCO3 multiply by 4.22, convert CaCO3 to the ion divide by 4.22 - I’m following the convention for the first alkalinity calculation)

24 mg/L

—

So, MgSO4*7H20 (note: we’re using the heptahydrate because as soon as this sucker gets exposed to air it’s taking in all that oxygen — this is Epsom salts)

Molar Mass = 246.4746 g/mol

Magnesium (Mg)    24.3050
Hydrogen (H)    1.00794
Oxygen (O) (15.9994 multiply by 7)
Sulphur (S) 32.065

We’re only after magnesium for now, so:

Atomic weight = 24.3050

Divide target concentration by Mg Atomic weight

24 / 24.3050 = 0.987451141740383

0.987451141740383

—

Now you need to convert this to g/L so divide by 1000

0.987451141740383 / 1000 = 0.000987451141740383

0.000987451141740383

—

Now you need to multiply this by the Molar Mass (since oxygen, hydrogen, and sulphur are still physically in the solution) to get grams needed per litre of DI water to achieve a target mg/L of 24:

0.000987451141740383 * 246.4746 = 0.243381625180004

0.243381625180004

—

Now multiply this by 10 to get grams needed for 10L batch of water with 98.4ppm Mg as CaCO3 when using MgSO4*7H20.

0.243381625180004 * 10 = 2.43g

2.43g

—

Convert to 1 gallon by multiplying by 0.378

2.43 * 0.378 = 0.92g

0.92g


![equation](http://latex.codecogs.com/svg.latex?O_t%3D%5Ctext%20%7B%20Onset%20event%20at%20time%20bin%20%7D%20t)
![equation](http://latex.codecogs.com/svg.latex?s%3D%5Ctext%20%7B%20sensor%20reading%20%7D) 
![equation](http://latex.codecogs.com/svg.latex?P%28s%20%7C%20O_t%20%29%3D%5Ctext%20%7B%20Probability%20of%20a%20sensor%20reading%20value%20when%20sleep%20onset%20is%20observed%20at%20a%20time%20bin%20%7D%20t)
